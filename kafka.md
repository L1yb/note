# 卡夫卡模式

消息队列通信的模式

（1）点对点模式

![image-20241209155104468](C:\Users\1\AppData\Roaming\Typora\typora-user-images\image-20241209155104468.png)

是基于拉取和轮询的消息传送模型

特点是**发送到队列的消息有且只有一个消费只进行消费**

生产者将消息放入队列以后，由消费者主动拉取消息，可以控制拉取频率，但是**消息队列是否有消息需要被消费**，消费者无法感知，需要额外的线程监控。



（2）发布订阅模式

![image-20241209155215018](C:\Users\1\AppData\Roaming\Typora\typora-user-images\image-20241209155215018.png)

发布者将消息放入队列以后，队列会将消息推送给订阅者

**由于消费者是被动接收推送，无需感知队列中是否有需要被消费的消息**

但是由于订阅者的机器性能不一样，处理消息的能力也不一样，但是**消息队列无法感知不同订阅者的消费速度**所以推送速度是一个问题

(3)kafka

## kafka架构原理

kafka是一种 **高吞吐量的分布式发布订阅消息系统**，它可以处理消费者规模的网站中所有动作流数据，

具有 高性能、持久化、多副本备份、横向拓展



